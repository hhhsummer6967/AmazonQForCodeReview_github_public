## 5. 语言特定检查点

### 5.1 Java/Kotlin
- 正确使用异常处理
- 资源关闭（try-with-resources）
- 并发安全性
- 集合类选择合理性
- 避免使用原始类型
- 使用接口而非实现类型声明变量
- 使用Java 8+的新特性（如Lambda、Stream API）
- 使用Optional处理可能为null的值
- 避免使用反射（除非必要）
- 使用构建者模式创建复杂对象

### 5.2 JavaScript/TypeScript
- 类型安全（TypeScript）
- 异步代码处理（Promise、async/await）
- 内存泄漏（闭包、事件监听器）
- 框架特定最佳实践
- 避免全局变量
- 使用严格模式（'use strict'）
- 使用const和let代替var
- 使用解构赋值
- 避免回调地狱
- 使用模块化设计

### 5.3 Python
- PEP 8 规范遵循
- 类型提示使用
- 依赖管理
- 异常处理
- 使用列表推导式和生成器表达式
- 使用上下文管理器（with语句）
- 避免使用全局变量
- 使用虚拟环境
- 使用f-strings进行字符串格式化
- 遵循Pythonic风格

### 5.4 Go
- 错误处理模式
- 并发模式
- 内存管理
- 接口设计
- 使用gofmt格式化代码
- 遵循Go的命名约定
- 正确处理错误返回
- 使用defer释放资源
- 避免使用panic（除非必要）
- 使用context管理请求范围的数据

### 5.5 C/C++
- 内存管理
- 指针安全
- 并发安全
- 资源管理
- 使用智能指针
- 避免原始指针
- 使用const正确性
- 避免宏，使用constexpr和模板
- 遵循RAII原则
- 使用现代C++特性

## 6. 中间件使用检查点

### 6.1 数据库
- 关注数据库连接池参数设置、超时参数设置是否合理
- 避免循环调用数据库操作
- 查询SQL时，如果条数不明确，加limit限制
- 数据库的返回进行判空处理
- 数据库慢SQL是否有监控
- 表结构更新是否做兼容，存量表数据是否涉及兼容问题
- 索引添加是否合理
- 是否连表过多

### 6.2 Redis
- Redis的key使用是否规范
- Redis异常捕获以及处理逻辑是否合理
- Redis连接池、超时参数设置是否合理
- 避免使用有潜在问题的命令，如hgetall、smember
- 是否可能存在缓存穿透、缓存雪崩、缓存击穿等问题
- 大key处理是否合理
- 是否考虑了数据一致性问题

### 6.3 消息队列
- 消息幂等性处理
- 消息顺序性处理（如需要）
- 消息可靠性保证
- 消息积压处理策略
- 死信队列处理
- 消费者异常处理

## 7. 代码审核沟通指南

### 7.1 提供建设性反馈
- 关注代码，而非开发者
- 解释为什么需要改变，而不仅仅是指出问题
- 提供具体的改进建议
- 使用问题而非命令的形式提出建议
- 使用专业但易于理解的语言
- 保持客观，关注代码而非开发者
- 提供具体而非模糊的反馈
- 解释"为什么"而不仅仅是"什么"
- 使用建设性而非批判性的语言

### 7.2 优先级分类
- **阻塞性问题**: 必须修复才能合并
  - 导致程序崩溃或无法运行
  - 严重的安全漏洞
  - 数据损坏或丢失风险
  - 违反核心业务规则
- **主要问题**: 应该修复，但可以在后续版本中解决
  - 影响主要功能但有临时解决方案
  - 中等安全风险
  - 严重性能问题
  - 可能导致未来维护困难的架构问题
- **次要问题**: 建议修复，但不影响功能
  - 代码质量问题
  - 轻微性能问题
  - 可改进的错误处理
  - 文档不完整
- **改进建议**: 可选的改进点
  - 代码风格改进
  - 可读性增强
  - 小的重构建议
  - 最佳实践建议

## 8. 工具推荐

### 8.1 通用工具
- SonarQube
- GitHub Code Review
- GitLab Code Quality
- Codacy
- CodeClimate
- Coverity

### 8.2 语言特定工具
- Java: PMD, FindBugs, Checkstyle, SpotBugs
- JavaScript: ESLint, Prettier, JSHint
- Python: Pylint, Flake8, Black, mypy
- Go: golangci-lint, gofmt, go vet
- C/C++: Clang-Tidy, Cppcheck, ASAN, UBSAN

## 9. 持续改进

- 定期回顾和更新代码审核规范
- 收集团队反馈
- 跟踪常见问题并更新检查清单
- 分享最佳实践和经验教训
- 建立代码审核指标和度量
- 培训团队成员提高代码审核技能
- 自动化可自动化的检查
- 定期进行代码审核回顾会议
